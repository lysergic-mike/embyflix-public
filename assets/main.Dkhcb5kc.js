const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./components.BQNxwHwS.js","./vue-vendor.B0WUDMXT.js","./composables.CNmb4RHD.js","./components.BPgzhz_E.css","./HomePage.DGENeHmk.js","./HomePage.Wcs_sBBn.css","./CategoryPage.BICev6QG.js","./CategoryPage.8dbVwE6T.css","./SearchPage.D8dRTEtx.js","./SearchPage.CnmiKQSG.css","./DetailsPage.CELuBcIE.js","./DetailsPage.fTl85OPT.css","./PlayerPage.C2Kvas6_.js","./PlayerPage.DWRJqU5u.css","./SettingsPage.Co5btWaW.js","./SettingsPage.D_eatRAT.css"])))=>i.map(i=>d[i]);
import{d as e,r as t,o as a,a as o,c as s,f as n,b as i,C as r,i as l,F as m,l as c,u as p,g as u,D as d,E as h,G as g}from"./vue-vendor.B0WUDMXT.js";import{L as v}from"./components.BQNxwHwS.js";import{j as _,_ as y,a as f,k as A}from"./composables.CNmb4RHD.js";/* empty css               */!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const E={key:0,class:"splash-screen"},L={id:"app"},b=e({__name:"App",setup(e){const d=c(),h=p();_();const g=t(!1),y=()=>{g.value=!0},f=()=>{g.value=!1},A=()=>{console.log("[App.vue] Custom Back Navigation Event Received."),"Login"!==d.name?h.back():console.log("[App.vue] On Login page, preventing back.")},b=t("home");return a(()=>{console.log("[App] Mounting - adding keydown listener"),(()=>{switch(d.name){case"Home":default:b.value="home";break;case"Details":b.value="details";break;case"Player":b.value="player"}})(),window.addEventListener("app-back-navigation",A),window.addEventListener("show-splash",y),window.addEventListener("hide-splash",f)}),o(()=>{console.log("[App] Unmounting - removing keydown listener"),window.removeEventListener("app-back-navigation",A),window.removeEventListener("show-splash",y),window.removeEventListener("hide-splash",f)}),(e,t)=>(u(),s(m,null,[g.value?(u(),s("div",E,[...t[0]||(t[0]=[r('<div class="splash-content"><div class="splash-logo"><i class="fas fa-film"></i></div><h1 class="splash-title">EmbyFlix</h1><div class="splash-spinner"><div class="spinner"></div></div><p class="splash-text">Building your personalized content library...</p><p class="splash-subtext">This may take a moment on first load</p></div>',1)])])):n("",!0),i("div",L,[l(v)])],64))}}),w=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:()=>y(()=>import("./components.BQNxwHwS.js").then(e=>e.d),__vite__mapDeps([0,1,2,3]),import.meta.url)},{path:"/home",name:"Home",component:()=>y(()=>import("./HomePage.DGENeHmk.js"),__vite__mapDeps([4,1,0,2,3,5]),import.meta.url),meta:{requiresAuth:!0,layout:"base"}},{path:"/category/:category",name:"Category",component:()=>y(()=>import("./CategoryPage.BICev6QG.js"),__vite__mapDeps([6,1,0,2,3,7]),import.meta.url),meta:{requiresAuth:!0,layout:"base"}},{path:"/search",name:"Search",component:()=>y(()=>import("./SearchPage.D8dRTEtx.js"),__vite__mapDeps([8,1,2,0,3,9]),import.meta.url),meta:{requiresAuth:!0,layout:"base"}},{path:"/details/:itemId",name:"Details",component:()=>y(()=>import("./DetailsPage.CELuBcIE.js"),__vite__mapDeps([10,1,0,2,3,11]),import.meta.url),meta:{requiresAuth:!0,layout:"base"}},{path:"/player/:itemId",name:"Player",component:()=>y(()=>import("./PlayerPage.C2Kvas6_.js"),__vite__mapDeps([12,1,0,2,3,13]),import.meta.url),meta:{requiresAuth:!0,layout:"none"}},{path:"/settings",name:"Settings",component:()=>y(()=>import("./SettingsPage.Co5btWaW.js"),__vite__mapDeps([14,1,2,0,3,15]),import.meta.url),meta:{requiresAuth:!0,layout:"base"}}],P=d({history:h(),routes:w});P.beforeEach((e,t,a)=>{const o=f(),s=e.matched.some(e=>e.meta.requiresAuth);console.log(`[Router] Navigating to: ${e.path}, Auth: ${o.isAuthenticated.value}, Demo: ${o.isDemoMode.value}`),s&&!o.isAuthenticated.value?(console.warn("[Router] Access denied. Redirecting to login..."),a({name:"Login"})):"Login"===e.name&&o.isAuthenticated.value?(console.log("[Router] Already authenticated. Redirecting to home..."),a({name:"Home"})):a()});const k=g(b);k.use(P),k.mount("#app");const{initializeTheme:D}=A();D();
