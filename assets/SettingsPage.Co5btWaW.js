import{d as s,r as e,o as t,c as a,b as l,C as n,t as i,v as o,I as c,n as r,p as d,F as g,e as u,h as v,y as p,u as m,g as b}from"./vue-vendor.B0WUDMXT.js";import{a as h,s as f,k as y,A as k}from"./composables.CNmb4RHD.js";import{_ as S}from"./components.BQNxwHwS.js";const x={class:"settings-page"},C={class:"settings-container"},I={class:"settings-section"},_={class:"info-grid"},N={class:"info-item"},P={class:"info-value"},L={class:"info-item"},j={class:"info-value"},w={class:"settings-section"},A={class:"settings-options"},U={class:"setting-item"},F={class:"setting-label"},J={class:"setting-item"},O={class:"setting-label"},T={class:"settings-section"},V={class:"settings-options"},D={class:"setting-item"},$={class:"setting-label"},M={class:"settings-section"},B={class:"settings-options"},E={class:"setting-item"},G={class:"setting-label-vertical"},R={class:"theme-mode-buttons"},q={class:"setting-item"},z={class:"setting-label-vertical"},H={class:"theme-presets"},K=["onClick"],Q={class:"preset-name"},W={class:"settings-section"},X={class:"settings-actions"},Y=["disabled"],Z=S(s({__name:"SettingsPage",setup(s){const S=m(),{logout:Z}=h(),{currentTheme:ss,setThemeMode:es,setThemePreset:ts}=y();f("Settings");const as=e(""),ls=e(""),ns=e(!0),is=e(!1),os=e(!0),cs=e(!1);t(()=>{rs(),ds()});const rs=()=>{try{const s=localStorage.getItem("jellyfin_server"),e=localStorage.getItem("jellyfin_user");if(s){const e=JSON.parse(s);as.value=e.url||"Not connected"}if(e){const s=JSON.parse(e);ls.value=s.Name||"Unknown"}}catch(s){console.error("Failed to load user info:",s)}},ds=()=>{try{const s=localStorage.getItem("embyflix_settings");if(s){const e=JSON.parse(s);ns.value=e.autoPlayNext??!0,is.value=e.skipIntro??!1,os.value=e.showDescriptions??!0}}catch(s){console.error("Failed to load settings:",s)}},gs=()=>{try{const s={autoPlayNext:ns.value,skipIntro:is.value,showDescriptions:os.value};localStorage.setItem("embyflix_settings",JSON.stringify(s))}catch(s){console.error("Failed to save settings:",s)}},us=async()=>{try{cs.value=!0,await Z(),S.push({name:"Login"})}catch(s){console.error("Logout failed:",s)}finally{cs.value=!1}},vs=s=>{es(s)};return(s,e)=>(b(),a("div",x,[l("div",C,[e[18]||(e[18]=l("h1",{class:"settings-title"},"Settings",-1)),l("section",I,[e[7]||(e[7]=l("h2",{class:"section-title"},"Server Information",-1)),l("div",_,[l("div",N,[e[5]||(e[5]=l("span",{class:"info-label"},"Server URL:",-1)),l("span",P,i(as.value),1)]),l("div",L,[e[6]||(e[6]=l("span",{class:"info-label"},"Logged in as:",-1)),l("span",j,i(ls.value),1)])])]),l("section",w,[e[10]||(e[10]=l("h2",{class:"section-title"},"Playback",-1)),l("div",A,[l("div",U,[l("label",F,[e[8]||(e[8]=l("span",null,"Auto-play next episode",-1)),o(l("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=s=>ns.value=s),onChange:gs,class:"setting-checkbox"},null,544),[[c,ns.value]])])]),l("div",J,[l("label",O,[e[9]||(e[9]=l("span",null,"Skip intro by default",-1)),o(l("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=s=>is.value=s),onChange:gs,class:"setting-checkbox"},null,544),[[c,is.value]])])])])]),l("section",T,[e[12]||(e[12]=l("h2",{class:"section-title"},"Display",-1)),l("div",V,[l("div",D,[l("label",$,[e[11]||(e[11]=l("span",null,"Show episode descriptions",-1)),o(l("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>os.value=s),onChange:gs,class:"setting-checkbox"},null,544),[[c,os.value]])])])])]),l("section",M,[e[15]||(e[15]=l("h2",{class:"section-title"},"Theme",-1)),l("div",B,[l("div",E,[l("label",G,[e[13]||(e[13]=l("span",{class:"setting-label-text"},"Background Style",-1)),l("div",R,[l("button",{onClick:e[3]||(e[3]=s=>vs("solid")),class:r(["theme-mode-btn",{active:"solid"===d(ss).mode}])}," Solid Color ",2),l("button",{onClick:e[4]||(e[4]=s=>vs("gradient")),class:r(["theme-mode-btn",{active:"gradient"===d(ss).mode}])}," Gradient ",2)])])]),l("div",q,[l("label",z,[e[14]||(e[14]=l("span",{class:"setting-label-text"},"Color Preset",-1)),l("div",H,[(b(!0),a(g,null,u(d(k),s=>(b(),a("button",{key:s.id,onClick:e=>{return t=s.id,void ts(t);var t},class:r(["theme-preset-btn",{active:d(ss).selectedPresetId===s.id}]),style:v({background:"gradient"===d(ss).mode?`linear-gradient(-45deg, ${s.colors.gradientStart} 0%, ${s.colors.gradientMid} 50%, ${s.colors.gradientEnd} 100%)`:s.colors.solid})},[l("span",Q,i(s.name),1)],14,K))),128))])])])])]),l("section",W,[e[17]||(e[17]=l("h2",{class:"section-title"},"Account",-1)),l("div",X,[l("button",{onClick:us,class:"logout-button",disabled:cs.value},[e[16]||(e[16]=l("i",{class:"fas fa-sign-out-alt"},null,-1)),p(" "+i(cs.value?"Logging out...":"Logout"),1)],8,Y)])]),e[19]||(e[19]=n('<section class="settings-section" data-v-92ce5699><h2 class="section-title" data-v-92ce5699>About</h2><div class="info-grid" data-v-92ce5699><div class="info-item" data-v-92ce5699><span class="info-label" data-v-92ce5699>App Version:</span><span class="info-value" data-v-92ce5699>1.0.0</span></div></div></section>',1))])]))}}),[["__scopeId","data-v-92ce5699"]]);export{Z as default};
