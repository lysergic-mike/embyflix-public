import{d as s,r as t,o as e,c as a,b as l,C as n,t as o,j as i,I as c,y as u,u as r,g}from"./vue-vendor.C6XCEWs1.js";import{a as v,r as d}from"./composables.C_I0WkG_.js";import{_ as p}from"./components.DC4RnbFf.js";const b={class:"settings-page"},f={class:"settings-container"},m={class:"settings-section"},h={class:"info-grid"},y={class:"info-item"},S={class:"info-value"},k={class:"info-item"},x={class:"info-value"},I={class:"settings-section"},_={class:"settings-options"},N={class:"setting-item"},j={class:"setting-label"},L={class:"setting-item"},w={class:"setting-label"},C={class:"settings-section"},U={class:"settings-options"},A={class:"setting-item"},J={class:"setting-label"},O={class:"settings-section"},P={class:"settings-actions"},V=["disabled"],D=p(s({__name:"SettingsPage",setup(s){const p=r(),{logout:D}=v();d("Settings");const F=t(""),R=t(""),q=t(!0),z=t(!1),B=t(!0),E=t(!1);e(()=>{G(),H()});const G=()=>{try{const s=localStorage.getItem("jellyfin_server"),t=localStorage.getItem("jellyfin_user");if(s){const t=JSON.parse(s);F.value=t.url||"Not connected"}if(t){const s=JSON.parse(t);R.value=s.Name||"Unknown"}}catch(s){console.error("Failed to load user info:",s)}},H=()=>{try{const s=localStorage.getItem("embyflix_settings");if(s){const t=JSON.parse(s);q.value=t.autoPlayNext??!0,z.value=t.skipIntro??!1,B.value=t.showDescriptions??!0}}catch(s){console.error("Failed to load settings:",s)}},K=()=>{try{const s={autoPlayNext:q.value,skipIntro:z.value,showDescriptions:B.value};localStorage.setItem("embyflix_settings",JSON.stringify(s))}catch(s){console.error("Failed to save settings:",s)}},M=async()=>{try{E.value=!0,await D(),p.push({name:"Login"})}catch(s){console.error("Logout failed:",s)}finally{E.value=!1}};return(s,t)=>(g(),a("div",b,[l("div",f,[t[13]||(t[13]=l("h1",{class:"settings-title"},"Settings",-1)),l("section",m,[t[5]||(t[5]=l("h2",{class:"section-title"},"Server Information",-1)),l("div",h,[l("div",y,[t[3]||(t[3]=l("span",{class:"info-label"},"Server URL:",-1)),l("span",S,o(F.value),1)]),l("div",k,[t[4]||(t[4]=l("span",{class:"info-label"},"Logged in as:",-1)),l("span",x,o(R.value),1)])])]),l("section",I,[t[8]||(t[8]=l("h2",{class:"section-title"},"Playback",-1)),l("div",_,[l("div",N,[l("label",j,[t[6]||(t[6]=l("span",null,"Auto-play next episode",-1)),i(l("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>q.value=s),onChange:K,class:"setting-checkbox"},null,544),[[c,q.value]])])]),l("div",L,[l("label",w,[t[7]||(t[7]=l("span",null,"Skip intro by default",-1)),i(l("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>z.value=s),onChange:K,class:"setting-checkbox"},null,544),[[c,z.value]])])])])]),l("section",C,[t[10]||(t[10]=l("h2",{class:"section-title"},"Display",-1)),l("div",U,[l("div",A,[l("label",J,[t[9]||(t[9]=l("span",null,"Show episode descriptions",-1)),i(l("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>B.value=s),onChange:K,class:"setting-checkbox"},null,544),[[c,B.value]])])])])]),l("section",O,[t[12]||(t[12]=l("h2",{class:"section-title"},"Account",-1)),l("div",P,[l("button",{onClick:M,class:"logout-button",disabled:E.value},[t[11]||(t[11]=l("i",{class:"fas fa-sign-out-alt"},null,-1)),u(" "+o(E.value?"Logging out...":"Logout"),1)],8,V)])]),t[14]||(t[14]=n('<section class="settings-section" data-v-5615686b><h2 class="section-title" data-v-5615686b>About</h2><div class="info-grid" data-v-5615686b><div class="info-item" data-v-5615686b><span class="info-label" data-v-5615686b>App Version:</span><span class="info-value" data-v-5615686b>1.0.0</span></div></div></section>',1))])]))}}),[["__scopeId","data-v-5615686b"]]);export{D as default};
